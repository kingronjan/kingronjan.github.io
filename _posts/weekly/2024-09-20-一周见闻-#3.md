---
layout: post
title: "一周见闻 #3"
date: 2024-09-20 14:55 +0800
categories: [weekly]
tags: [weekly]
image:
  path: /assets/images/74699bc53513a1239a78c78d3a2d9aae.JPEG
  alt: 今年中秋的月亮，格外大，摄于重庆
---



### Python

##### [Let’s build and optimize a Rust extension for Python](https://pythonspeed.com/articles/intro-rust-python-extensions/)

文章讲述如何用 python 的三方库 [maturin](https://github.com/PyO3/maturin) 创建用 rust 语言编写的 python 库，可以安装到本地或发布到 pypi。对于某些功能使用 python 存在性能瓶颈时，可以考虑使用该方式提升性能



##### [35% Discount on Keyword Arguments in Python 🐍 \| Ash's Blog](https://ashvardanian.com/posts/discount-on-keyword-arguments-in-python/)、

作者通过调整 python 的 c 语言扩展 SimSIMD  中的 `cdist` 函数参数解析方式，说明了不同的处理方式会对执行性能有一定影响，仅通过对参数解析的优化，最终将函数执行时间缩短了 35%



##### [Spiderweb: the Tiny Web Framework - Joe Kaufeld](https://itsthejoker.github.io/spiderweb-the-tiny-web-framework/?utm_campaign=Django%2BNewsletter&utm_medium=email&utm_source=Django_Newsletter_251#zen-of-python-vs-ease-of-use)

作者通过自己写一个 web 框架来加深对 web 框架的运行内部运作机制的理解，也包括在 cors 的实现部分将另一个开源组件 `django-cros-headers` 的参考和重写，文章讲述了作者的开发过程，开发中遇到的一些问题以及对应的理解



### Django

##### [Django: speed up tests slightly by disabling update_last_login - Adam Johnson](https://adamj.eu/tech/2024/09/18/django-test-speed-last-login/)

文章讲到了在 django 测试中通过取消 `django.contrib.auth` 模块中的 `update_last_login` 方法注册的信号，来提升 django 的测试速度，如果在项目中有其他的信号方法需要在测试中关闭，也可以参考作者的写法：

```python
import pytest


@pytest.fixture(scope="session", autouse=True)
def disable_update_last_login():
    """
    Disable the update_last_login signal receiver to reduce login overhead.

    See: https://adamj.eu/tech/2024/09/18/django-test-speed-last-login/
    """
    user_logged_in.disconnect(dispatch_uid="update_last_login")
    yield
```



